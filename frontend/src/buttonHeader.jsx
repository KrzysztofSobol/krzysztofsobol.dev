import React, { useEffect, useRef } from 'react';

function ButtonHeader() {
    const headerRef = useRef(null);
    const placeholderRef = useRef(null);

    useEffect(() => {
        const handleScroll = () => {
            const header = headerRef.current;
            const placeholder = placeholderRef.current;
            const headerRect = header.getBoundingClientRect();
            const placeholderRect = placeholder.getBoundingClientRect();

            if (headerRect.top <= 0 && !header.classList.contains('sticky')) {
                header.classList.add('sticky');
                placeholder.style.display = 'block';
            } else if (placeholderRect.top >= 0 && header.classList.contains('sticky')) {
                header.classList.remove('sticky');
                placeholder.style.display = 'none';
            }
        };

        window.addEventListener('scroll', handleScroll);

        return () => {
            window.removeEventListener('scroll', handleScroll);
        };
    }, []);

    const handleScrollToSection = (id, offset) => {
        const section = document.getElementById(id);
        if (section) {
            const headerOffset = headerRef.current.offsetHeight;
            const elementPosition = section.getBoundingClientRect().top + window.pageYOffset;
            const offsetPosition = elementPosition - headerOffset + offset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }
    };

    return (
        <>
            <div ref={placeholderRef} className="placeholder"></div>
            <div ref={headerRef} className="buttonHeader">
                <svg className={"ksLogo"} onClick={() => handleScrollToSection('main')} viewBox="0 0 500 500" width="80"
                     height="80" xmlns="http://www.w3.org/2000/svg">
                    <g transform="matrix(0.05740800127387046, 0, 0, -0.05740800127387046, -45.54309844970704, 548.1242065429686)"
                       fill="#FFFFFF" stroke="none">
                        <path d="M1315 7855 c-21 -20 -25 -34 -25 -80 0 -46 4 -60 25 -80 l24 -25 501&#10;0 501 0 24 25 c21 20 25 34 25 79 0 48 -3 57 -31 80 l-31 26 -494 0 -495 0&#10;-24 -25z"/>
                        <path d="M4050 7852 c-34 -27 -39 -108 -10 -144 l21 -28 2324 0 2324 0 20 26&#10;c31 39 29 107 -4 139 l-24 25 -2314 0 c-2221 0 -2316 -1 -2337 -18z"/>
                        <path d="M3846 7519 c-16 -10 -66 -106 -149 -289 -14 -30 -43 -93 -65 -140&#10;-97 -205 -142 -302 -142 -305 0 -2 -23 -52 -51 -111 -121 -257 -139 -303 -139&#10;-352 0 -68 27 -92 102 -92 40 0 59 5 71 18 16 17 93 176 224 462 65 141 83&#10;180 118 255 20 44 54 116 75 160 109 230 120 258 120 307 0 68 -30 98 -97 98&#10;-26 0 -56 -5 -67 -11z"/>
                        <path d="M5663 7515 c-12 -8 -30 -34 -41 -57 -11 -24 -48 -101 -81 -171 -34&#10;-71 -61 -130 -61 -132 0 -2 -27 -60 -60 -130 -33 -70 -60 -128 -60 -130 0 -2&#10;-26 -59 -59 -127 -32 -68 -70 -148 -84 -178 -14 -30 -41 -90 -61 -133 -43 -93&#10;-50 -173 -16 -207 27 -27 129 -29 153 -2 14 15 41 71 124 252 14 30 38 82 53&#10;115 15 33 49 105 75 160 26 55 60 127 75 160 15 33 44 94 63 135 50 108 86&#10;186 118 258 56 123 28 202 -71 202 -25 0 -55 -7 -67 -15z"/>
                        <path d="M856 7365 c-13 -10 -22 -34 -27 -67 -10 -72 -10 -950 0 -1012 11 -64&#10;37 -86 100 -86 52 0 86 23 96 63 3 12 4 260 3 550 l-3 529 -24 19 c-29 23&#10;-116 26 -145 4z"/>
                        <path d="M2677 7366 c-10 -8 -22 -29 -27 -47 -13 -45 -13 -1013 0 -1058 13&#10;-46 36 -60 97 -61 45 0 54 4 77 31 l26 31 0 524 c0 539 -1 552 -39 581 -22 17&#10;-112 16 -134 -1z"/>
                        <path d="M9031 7354 c-21 -26 -21 -36 -21 -566 l0 -539 25 -24 c19 -20 34 -25&#10;75 -25 41 0 56 5 75 25 l25 24 0 539 c0 530 0 540 -21 566 -18 23 -28 26 -79&#10;26 -51 0 -61 -3 -79 -26z"/>
                        <path d="M6776 6105 c-21 -20 -26 -33 -26 -75 0 -41 5 -56 25 -75 l24 -25 946&#10;0 947 0 29 29 c23 23 29 38 29 71 0 33 -6 48 -29 71 l-29 29 -945 0 -944 0&#10;-27 -25z"/>
                        <path d="M5141 5756 c-20 -22 -23 -32 -19 -83 5 -59 9 -68 129 -321 33 -68 59&#10;-125 59 -126 0 -2 20 -46 44 -97 24 -52 55 -119 69 -149 152 -333 225 -478&#10;245 -489 12 -6 41 -11 67 -11 64 0 95 31 95 95 0 45 -6 63 -77 215 -20 41 -47&#10;100 -60 130 -14 30 -41 89 -60 130 -19 41 -46 100 -60 130 -14 30 -43 93 -65&#10;140 -84 179 -108 228 -153 325 -61 131 -65 135 -135 135 -47 0 -60 -4 -79 -24z"/>
                        <path d="M8771 5754 c-42 -54 -30 -95 117 -404 27 -58 61 -130 75 -160 14 -30&#10;41 -89 60 -130 19 -41 46 -100 60 -130 13 -30 46 -100 72 -155 26 -55 63 -134&#10;82 -175 48 -105 65 -120 127 -120 76 1 96 22 96 99 0 51 -7 76 -44 154 -24 50&#10;-55 117 -69 147 -14 30 -41 89 -60 130 -19 41 -46 100 -60 130 -28 63 -84 182&#10;-132 285 -79 167 -125 268 -125 271 0 3 -11 22 -25 44 -25 40 -25 40 -89 40&#10;-58 0 -67 -3 -85 -26z"/>
                        <path d="M860 5622 c-15 -12 -25 -35 -31 -68 -10 -62 -10 -941 0 -1013 10 -67&#10;27 -81 102 -81 50 0 60 3 78 26 21 26 21 36 21 561 l0 535 -29 29 c-24 23 -38&#10;29 -74 29 -28 0 -53 -7 -67 -18z"/>
                        <path d="M2624 5546 c-3 -8 -1 -52 5 -98 49 -382 45 -372 113 -376 62 -4 75&#10;16 88 139 6 51 15 128 20 169 5 41 9 99 10 128 l0 52 -115 0 c-91 0 -117 -3&#10;-121 -14z"/>
                        <path d="M4730 5549 c-20 -12 -588 -326 -692 -383 -33 -17 -38 -24 -38 -55 0&#10;-38 0 -39 80 -83 25 -13 72 -40 105 -58 33 -18 74 -41 92 -51 18 -10 63 -35&#10;100 -55 37 -20 118 -65 178 -99 217 -122 244 -131 304 -100 34 17 41 32 41 94&#10;0 64 -4 69 -135 141 -33 18 -73 41 -90 50 -16 9 -55 30 -85 47 -30 17 -80 45&#10;-110 62 -30 18 -63 35 -73 38 -20 6 -15 10 98 73 116 64 131 73 195 110 36 21&#10;88 50 115 65 71 38 85 58 85 119 0 72 -25 96 -101 95 -30 0 -61 -4 -69 -10z"/>
                        <path d="M5865 4364 c-16 -12 -20 -27 -20 -79 0 -52 4 -67 20 -79 18 -13 139&#10;-15 977 -16 l957 0 20 26 c31 39 29 107 -4 139 l-24 25 -953 0 c-834 -1 -955&#10;-3 -973 -16z"/>
                        <path d="M3325 4015 c-20 -19 -25 -34 -25 -74 0 -52 5 -66 108 -281 27 -58 61&#10;-130 75 -160 14 -30 41 -89 60 -130 19 -41 46 -100 60 -130 13 -30 46 -100 72&#10;-155 44 -92 82 -175 123 -265 29 -66 49 -80 112 -80 76 0 100 22 100 89 0 51&#10;-9 77 -70 206 -37 79 -88 187 -137 295 -14 30 -41 89 -60 130 -19 41 -46 100&#10;-60 130 -14 30 -40 87 -58 125 -18 39 -58 122 -88 187 -32 66 -64 121 -75 127&#10;-12 6 -41 11 -67 11 -35 0 -51 -6 -70 -25z"/>
                        <path d="M5146 4019 c-37 -29 -37 -105 3 -191 71 -156 127 -277 196 -423 26&#10;-55 59 -125 72 -155 14 -30 41 -89 60 -130 19 -41 46 -100 60 -130 114 -249&#10;114 -250 194 -250 51 0 60 3 79 28 29 36 23 105 -15 187 -15 33 -43 94 -62&#10;135 -19 41 -46 100 -60 130 -14 30 -48 102 -75 160 -28 58 -58 123 -68 145&#10;-10 22 -33 74 -53 115 -19 41 -46 100 -59 130 -78 170 -120 251 -137 260 -34&#10;18 -106 12 -135 -11z"/>
                        <path d="M9293 4018 c-25 -28 -42 -59 -94 -173 -23 -49 -54 -117 -69 -150 -15&#10;-33 -39 -85 -53 -115 -13 -30 -43 -94 -66 -142 -23 -49 -59 -127 -82 -175 -71&#10;-151 -132 -284 -160 -351 -27 -62 -25 -117 6 -147 20 -20 34 -25 77 -25 29 0&#10;61 7 70 14 13 10 148 275 148 291 0 1 22 49 49 106 26 57 63 136 81 174 18 39&#10;49 106 70 150 21 44 49 105 63 135 86 189 108 237 117 252 6 10 10 44 10 76 0&#10;77 -24 102 -96 102 -40 0 -55 -5 -71 -22z"/>
                        <path d="M856 3875 c-13 -10 -22 -34 -27 -67 -10 -72 -10 -950 0 -1012 10 -60&#10;37 -86 92 -86 50 0 84 16 98 47 8 16 11 187 11 554 l0 530 -25 24 c-20 20 -34&#10;25 -77 25 -31 -1 -61 -7 -72 -15z"/>
                        <path d="M2669 3871 l-24 -19 0 -547 0 -547 28 -24 c42 -36 109 -34 148 5 l29&#10;29 0 527 c0 624 5 595 -110 595 -32 0 -55 -6 -71 -19z"/>
                        <path d="M1332 2628 c-48 -23 -51 -132 -4 -168 24 -19 42 -20 512 -20 478 0&#10;488 0 514 21 23 18 26 28 26 79 0 51 -3 61 -26 79 -26 21 -36 21 -513 20 -328&#10;0 -493 -4 -509 -11z"/>
                        <path d="M4053 2622 c-27 -20 -38 -67 -29 -117 13 -67 6 -66 557 -63 l491 3&#10;19 24 c29 36 26 115 -6 146 l-24 25 -493 0 c-452 0 -495 -2 -515 -18z"/>
                        <path d="M5865 2615 c-19 -18 -25 -35 -25 -69 0 -59 7 -74 41 -91 24 -13 218&#10;-15 1419 -15 l1392 0 29 29 c23 23 29 38 29 71 0 33 -6 48 -29 71 l-29 29&#10;-1402 0 -1401 0 -24 -25z"/>
                    </g>
                </svg>

                <button className="button" onClick={() => handleScrollToSection('aboutMe', 75)}>
                    <svg className={"icon"} width="80px" height="80px" viewBox="0 0 24 24" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" strokeWidth="0"/>
                        <g id="SVGRepo_tracerCarrier" strokeLinecap="round" strokeLinejoin="round"/>
                        <g id="SVGRepo_iconCarrier">
                            <path
                                d="M4.54601 20.891L5 20H5L4.54601 20.891ZM4.10899 20.454L5 20H5L4.10899 20.454ZM4.04798 16.4656L5.03199 16.6437H5.03199L4.04798 16.4656ZM6.46558 14.048L6.64372 15.032H6.64372L6.46558 14.048ZM8.52682 14.4682L8.11418 15.3791L8.52682 14.4682ZM7.59797 14.0722L7.86945 13.1098L7.59797 14.0722ZM6.71575 14.0172L6.63976 13.0201L6.71575 14.0172ZM7.20361 14.0026L7.2779 13.0054L7.20361 14.0026ZM12.1655 15.9033C12.7101 15.8119 13.0776 15.2963 12.9862 14.7516C12.8948 14.2069 12.3792 13.8394 11.8345 13.9308L12.1655 15.9033ZM14 22C14.5523 22 15 21.5523 15 21C15 20.4477 14.5523 20 14 20V22ZM17.29 17.2929C16.8994 17.6834 16.8994 18.3166 17.29 18.7071C17.6805 19.0976 18.3137 19.0976 18.7042 18.7071L17.29 17.2929ZM15.0916 14.7507C14.954 15.2856 15.2759 15.8308 15.8108 15.9684C16.3457 16.1061 16.8908 15.7841 17.0285 15.2493L15.0916 14.7507ZM17.9971 20C17.4448 20 16.9971 20.4477 16.9971 21C16.9971 21.5523 17.4448 22 17.9971 22V20ZM18.0071 22C18.5594 22 19.0071 21.5523 19.0071 21C19.0071 20.4477 18.5594 20 18.0071 20V22ZM14 7C14 8.65685 12.6569 10 11 10V12C13.7614 12 16 9.76142 16 7H14ZM11 10C9.34315 10 8 8.65685 8 7H6C6 9.76142 8.23858 12 11 12V10ZM8 7C8 5.34315 9.34315 4 11 4V2C8.23858 2 6 4.23858 6 7H8ZM11 4C12.6569 4 14 5.34315 14 7H16C16 4.23858 13.7614 2 11 2V4ZM11 14C10.2634 14 9.5665 13.8413 8.93945 13.5573L8.11418 15.3791C8.99535 15.7783 9.97313 16 11 16V14ZM5 19.4V17.6841H3V19.4H5ZM5.6 20C5.30347 20 5.14122 19.9992 5.02463 19.9897C4.91972 19.9811 4.94249 19.9707 5 20L4.09202 21.782C4.36344 21.9203 4.63318 21.9644 4.86177 21.9831C5.07869 22.0008 5.33648 22 5.6 22V20ZM3 19.4C3 19.6635 2.99922 19.9213 3.01695 20.1382C3.03562 20.3668 3.07969 20.6366 3.21799 20.908L5 20C5.0293 20.0575 5.01887 20.0803 5.0103 19.9754C5.00078 19.8588 5 19.6965 5 19.4H3ZM5 20H5L3.21799 20.908C3.40973 21.2843 3.7157 21.5903 4.09202 21.782L5 20ZM5 17.6841C5 17.0048 5.00403 16.7982 5.03199 16.6437L3.06398 16.2874C2.99597 16.6631 3 17.0921 3 17.6841H5ZM6.63976 13.0201C6.52094 13.0291 6.40482 13.0427 6.28744 13.064L6.64372 15.032C6.68018 15.0254 6.72646 15.0192 6.79174 15.0143L6.63976 13.0201ZM5.03199 16.6437C5.18058 15.8229 5.82295 15.1806 6.64372 15.032L6.28744 13.064C4.6459 13.3612 3.36116 14.6459 3.06398 16.2874L5.03199 16.6437ZM8.93945 13.5573C8.46856 13.344 8.10859 13.1772 7.86945 13.1098L7.3265 15.0347C7.32059 15.033 7.33175 15.0359 7.36967 15.0506C7.40596 15.0646 7.45555 15.0851 7.52413 15.1147C7.66296 15.1747 7.84942 15.2591 8.11418 15.3791L8.93945 13.5573ZM6.79174 15.0143C7.02942 14.9962 7.06668 14.9952 7.12932 14.9999L7.2779 13.0054C7.03995 12.9877 6.85217 13.0039 6.63976 13.0201L6.79174 15.0143ZM7.86945 13.1098C7.65428 13.0491 7.50084 13.022 7.2779 13.0054L7.12932 14.9999C7.18838 15.0043 7.2134 15.0079 7.22908 15.0106C7.24475 15.0134 7.26949 15.0186 7.3265 15.0347L7.86945 13.1098ZM11.8345 13.9308C11.5638 13.9762 11.285 14 11 14V16C11.3964 16 11.7858 15.967 12.1655 15.9033L11.8345 13.9308ZM14 20H5.6V22H14V20ZM18.997 15.5C18.997 15.6732 18.9516 15.8053 18.6776 16.0697C18.5239 16.218 18.3429 16.3653 18.0919 16.574C17.8536 16.7723 17.5741 17.0087 17.29 17.2929L18.7042 18.7071C18.92 18.4913 19.1405 18.3033 19.3709 18.1116C19.5887 17.9305 19.8452 17.7223 20.0665 17.5087C20.5426 17.0493 20.997 16.4314 20.997 15.5H18.997ZM17.997 14.5C18.5493 14.5 18.997 14.9477 18.997 15.5H20.997C20.997 13.8431 19.6539 12.5 17.997 12.5V14.5ZM17.0285 15.2493C17.1396 14.8177 17.5325 14.5 17.997 14.5V12.5C16.5978 12.5 15.4246 13.457 15.0916 14.7507L17.0285 15.2493ZM17.9971 22H18.0071V20H17.9971V22Z"
                                fill="#FFFFFF"/>
                        </g>
                    </svg>
                    <span className="text">about me</span>
                </button>
                <button className="button" onClick={() => handleScrollToSection('projects', 18)}>
                    <svg className={"icon"} width="80px" height="80px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 8L3 11.6923L7 16M17 8L21 11.6923L17 16M14 4L10 20" stroke="#FFFFFF" strokeWidth="2"
                              strokeLinecap="round" strokeLinejoin="round"/>
                    </svg>
                    <span className="text">projects</span>
                </button>
                <button className="button" onClick={() => handleScrollToSection('contact', -258)}>
                    <svg className={"icon"} width="80px" height="80px" viewBox="0 0 24 24" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18 9V7.2C18 6.0799 18 5.51984 17.782 5.09202C17.5903 4.71569 17.2843 4.40973 16.908 4.21799C16.4802 4 15.9201 4 14.8 4H7.2C6.0799 4 5.51984 4 5.09202 4.21799C4.71569 4.40973 4.40973 4.71569 4.21799 5.09202C4 5.51984 4 6.0799 4 7.2V18L8 16M20 20L17.8062 18.5374C17.5065 18.3377 17.3567 18.2378 17.1946 18.167C17.0507 18.1042 16.9 18.0586 16.7454 18.031C16.5713 18 16.3912 18 16.0311 18H11.2C10.0799 18 9.51984 18 9.09202 17.782C8.71569 17.5903 8.40973 17.2843 8.21799 16.908C8 16.4802 8 15.9201 8 14.8V12.2C8 11.0799 8 10.5198 8.21799 10.092C8.40973 9.71569 8.71569 9.40973 9.09202 9.21799C9.51984 9 10.0799 9 11.2 9H16.8C17.9201 9 18.4802 9 18.908 9.21799C19.2843 9.40973 19.5903 9.71569 19.782 10.092C20 10.5198 20 11.0799 20 12.2V20Z"
                            stroke="#FFFFFF" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                    </svg>
                    <span className="text">contact</span>
                </button>
            </div>
        </>
    );
}

export default ButtonHeader;
